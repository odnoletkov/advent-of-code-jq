[inputs] | join(",")/",,"
| .[0] |= [scan("(\\d+) (\\d+)")]
| .[1:][] |= ((./",")[1:] | map(./" "))
| walk(tonumber? // .)
| (.[0][], .[1:][][]) |= (.[-1] += .[-2])
| .[1:][][] |= (.[0] -= .[1])
| reduce .[1:][] as $ranges (
  .[0];
  map(
    . + (
      $ranges[],
      [0, .[0], ([$ranges[][1]] | min)],
      [0, ([$ranges[][2]] | max), .[1]]
    )
    | [(([.[0], .[3]] | max), ([.[1], .[4]] | min)) + .[2]]
    | select(.[0] < .[1])
  )
) | map(.[0]) | min
